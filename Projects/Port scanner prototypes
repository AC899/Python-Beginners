# doesn't work properly - needs to be more condensesd 
try:
    ip = socket.gethostbyname(nsip)  #getting the ip address of a domain name
    print("Socket successfully created " + "\nIP address of " + nsip + " is " + ip)  #DNS query issue solved
except socket.error as error_code:    #
    print("Socket creation failed.\n{}".format(error_code))

def portconnect(ip,port):
    try:
        s.connect((ip,port))    #execute when ip, port are connecting (returning True)
        return True
    except:
        return None

for port in range(1,65535):
    value = portconnect(ip,port)
    if value == True:
        print("port opened on {}".format(port))
        break
